<div class="container mt-5">
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <img [src]="'data:image/jpg;base64,' + recipe.imageData" class="card-img-top recipe-img" [alt]="recipe.name">
      </div>
    </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-body">
          <!-- Recipe name and description to the right above the likes -->
          <div class="recipe-info">
            <h5 class="card-title">{{ recipe.name }}</h5>
            <div class="recipe-meta" style="margin-top: 10px;">
              <i class="fas fa-user me-1"></i>
              <span>{{ recipe.userName }}</span>
            </div>
            <div class="recipe-meta">
              <i class="fas fa-users"></i> {{ recipe.servingSize }}
            </div>
            <div class="recipe-meta">
              <i class="fas fa-clock"></i> {{ recipe.preparationTime }}
            </div>
            <!-- Display average rating 
            <p class="card-text"><i class="fas fa-star mt-2"></i> 5.5 </p>
             Button to rate the recipe -->
             <button class="btn btn-primary" (click)="toggleLike()" style="background: none; border: none;">
              <i class="fas fa-heart" [style.color]="isLikedByUser ? 'red' : 'white'" style="font-size: 24px; text-shadow: -1px 0 red, 0 1px red, 1px 0 red, 0 -1px red;"></i>
              <span class="like-label">{{ isLikedByUser ? 'Liked' : 'Like' }}</span>
            </button>
                                                                              
            <!-- Display total likes -->
            <p class="card-text mt-2">{{ likes }} beğeni</p>
            <!-- Display comments -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-8">
      <!-- Left padding for "Yapılış" and description -->
      <div class="left-padded">
        <p class="card-text">
          <strong>Yapılış:</strong>
        </p>
        <h5 class="card-title">{{ recipe.description }}</h5>
      </div>
      <!-- End left padding -->
    </div>
  </div>
</div>


<div class="container bootdey mt-3" style="margin-top: 20px;" >
  <div class="col-md-12 bootstrap snippets">
    <div class="panel">
      <div class="panel-body">
        <textarea class="form-control" rows="2" placeholder="Ne düşünüyorsunuz?" [(ngModel)]="newComment"></textarea>
        <div class="mar-top clearfix">
          <button class="btn btn-sm btn-primary pull-right" type="submit" (click)="addComment()"><i class="fa fa-pencil fa-fw"></i> Paylaş</button>
          <a class="btn btn-trans btn-icon fa fa-video-camera add-tooltip" href="#"></a>
          <a class="btn btn-trans btn-icon fa fa-camera add-tooltip" href="#"></a>
          <a class="btn btn-trans btn-icon fa fa-file add-tooltip" href="#"></a>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-body">
        <!-- Yorumlar -->
        <div class="text-center mb-4">
          <h2>Yorumlar</h2>
        </div>
        <!-- =================================================== -->
        <div class="media-block" *ngFor="let review of reviews">
          <div class="media">
            <img class="rounded-circle img-avatar" src="assets/user_icon.jpg" alt="User Avatar">
            <div class="media-body ml-2">
              <div class="d-flex align-items-center">
                <h5 class="mt-0">{{ review.userName }}</h5>
                <span class="text-muted ml-2" style="margin-top: 3px;">{{ formatDateOrNA(review.createDate) }}</span>
              </div>
              <p class="text-comment">{{ review.description }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    
    
    
    
    
    
    
    

 <!--           
            <div class="pad-ver">
              <div class="btn-group">
                <button class="btn btn-sm btn-default btn-hover-success" (click)="likeComment(review)"><i class="fa fa-thumbs-up"></i></button>
                <button class="btn btn-sm btn-default btn-hover-danger" (click)="dislikeComment(review)"><i class="fa fa-thumbs-down"></i></button>
              </div>
              <button class="btn btn-sm btn-default btn-hover-primary" (click)="replyToComment(review)">Yorum Yap</button>
            </div>
            <hr>
            // Replies 
             <div *ngFor="let reply of review.replies" class="media-block reply">
              <a class="media-left" href="#"><img class="img-circle img-sm" alt="Profil Resmi" src="https://bootdey.com/img/Content/avatar/avatar2.png"></a>
              <div class="media-body">
                <div class="mar-btm">
                  <a href="#" class="btn-link text-semibold media-heading box-inline">{{ reply.userName }}</a>
                  <p class="text-muted text-sm"><i class="fa fa-mobile fa-lg"></i> - Mobil - {{ reply.timestamp | timeAgo }}</p>
                </div>
                <p>{{ reply.description }}</p>
                <div class="pad-ver">
                  <div class="btn-group">
                    <button class="btn btn-sm btn-default btn-hover-success" (click)="likeComment(reply)"><i class="fa fa-thumbs-up"></i></button>
                    <button class="btn btn-sm btn-default btn-hover-danger" (click)="dislikeComment(reply)"><i class="fa fa-thumbs-down"></i></button>
                  </div>
                  <button class="btn btn-sm btn-default btn-hover-primary" (click)="replyToComment(reply)">Yorum Yap</button>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>
</div>
-->

    